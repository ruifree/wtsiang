
IR这个词并不是什么缩写，这里的I就是指**电流**，R是指**电阻**，他们放在一起相乘，得出来的结果就是**电压**。所以说IR drop就是指**电压降**，刚接触芯片后端会看到太多缩写，突然来个IR一时会反应不过来是电压。 所谓**电压降**，就是指从芯片**源头供电到instance所消耗的电压**。

# IR Drop的种类
IR drop主要分为两种。一种是静态的IR drop，另外一种则是动态的IR drop。

## 静态IR drop
静态IR drop现象产生的原因主要是**电源网络的金属连线的分压，是由于金属连线的自身电阻分压造成的**。电流经过内部电源连线的时候产生电源压降。所以静态IR drop主要跟电源网络的结构和连线细节有关。因此静态IR drop主要考虑电阻效应，分析电阻的影响即可。

## 动态IR drop
动态IR drop是**电源在电路开关切换的时候电流波动引起的电压压降**。这种现象产生在时钟的触发沿，时钟沿跳变不仅带来自身的大量晶体管开关，同时带来组合逻辑电路的跳变，往往在短时间内在整个芯片上产生很大的电流，这个瞬间的大电流引起了IR drop现象。同时开关的晶体管数量越多，越容易触发动态IR drop现象。

在项目前期，由于数字后端实现的database没有ready，后仿可能也没有时间做，所以此时动态IR Drop的分析一般都是基于Vectorless。而项目后期都是需要基于某个场景下，比如max power，去产生对应的VCD，然后再去做基于VCD的动态IR drop分析。基于VCD动态IR drop的分析一般可以不指定各个子模块的功耗值，工具可以从VCD中获取对应的power值，如果没有对应的功耗值，则采用用户设置的值。

## IR Drop的影响
**性能下降电压降低后，gate的开关速度变慢，性能降低**。因此，对于高性能的设计，必须将IR Drop控制在很小的范围内。芯片功能错误在极端的情况下功能也会受影响的。在深亚微米下，如果power network做的不够好，然后碰上了很不好的case，IR drop在某个局部区域特别大（特别是动态IR drop），从而导致STA阶段signoff的timing与实际情况不一致（考虑OCV仍然无法cover design的要求），导致setup或者hold的违例。setup的违例，可以通过抬高电压来提升频率，但是代价是功耗上去了，而且如果动态IR drop不够robust，可能通过抬电压，setup能提升的空间也有限。而一旦出现hold违例，那芯片就无法正常工作。因此在先进工艺中，IR drop的影响特别大，需要引起各位的高度重视。

## 改善IR drop的方法
提高power mesh密度增加power switch cell 数量插足够多的decap cell（含decoupling capacitance）将同时翻转的寄存器摊开些摆放